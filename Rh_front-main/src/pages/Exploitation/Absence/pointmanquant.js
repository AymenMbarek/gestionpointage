import React, { useState, forwardRef,useEffect } from "react"
import MaterialTable from 'material-table'
import moment from "moment";
import {
    Button, Modal, Pagination, PaginationItem, PaginationLink, Card, CardBody,
    Col, Row, ModalHeader, ModalBody, Form, Input, ModalFooter, Label
} from "reactstrap"
import {connect} from "react-redux";
import MetaTags from "react-meta-tags";
import Breadcrumbs from "../../../components/Common/Breadcrumb";

const Pointmanquant = props => {

    const { useState } = React;

    const [columns, setColumns] = useState([
        { title: 'Nom&Prénom', field: 'personne', editable: 'never' },
        { title: 'Employeur', field: 'employeur', editable: 'never' },
        { title: 'Type',field: 'type',
            lookup: { "Maladié": 'Maladié', "Congé": 'Congé', "Injustifié": 'Injustifié' },
        },
    ]);

    const [data, setData] = useState([
        { personne: 'Mehmet Guero', employeur: 'Entreprise 1',  type: 'Injustifié' },
        { personne: 'Zerya Betül', employeur: 'Entreprise 2', type: 'Injustifié' },
        { personne: 'Ali Younes', employeur: 'Entreprise 3',  type: 'Injustifié' },
    ]);

    return (
        <React.Fragment>
            <div className="page-content">
                <MetaTags>
                    <title>Pointage Manquant</title>
                </MetaTags>
                <div className="container-fluid">
                    <Breadcrumbs maintitle="Assist RH" title="Exploitation" breadcrumbItem="Pointages Manquants" />
                    <Row>
                        <Col lg={12}>
                            <Form>


                                <div className="row">

                                    <div className="col-lg-4">
                                        <div className="mb-3" >
                                            <Label className="form-label" htmlFor="chantier"  > Choisir une Date </Label>
                                            <Input id="manufacturername" name="date" type="date" className="form-control"  required />
                                        </div>
                                    </div>


                                    <div className="col-md-4" style={{paddingTop:"19px"}}>
                                        <Button color="success"
                                                onClick={() => {setsuccess_msg(true) }} id="sa-success" type="button" className=" waves-effect waves-light mt-lg-0">
                                            <i className="ri-check-line align-middle me-2"></i> Afficher
                                        </Button>
                                    </div>


                                </div>


                            </Form>


                            <MaterialTable
            title="Pointages Manquants"
            columns={columns}
            data={data}
            editable={{
               /* onRowAdd: newData =>
                    new Promise((resolve, reject) => {
                        setTimeout(() => {
                            setData([...data, newData]);

                            resolve();
                        }, 1000)
                    }),*/
                onRowUpdate: (newData, oldData) =>
                    new Promise((resolve, reject) => {
                        setTimeout(() => {
                            const dataUpdate = [...data];
                            const index = oldData.tableData.id;
                            dataUpdate[index] = newData;
                            setData([...dataUpdate]);

                            resolve();
                        }, 1000)
                    }),
                onRowDelete: oldData =>
                    new Promise((resolve, reject) => {
                        setTimeout(() => {
                            const dataDelete = [...data];
                            const index = oldData.tableData.id;
                            dataDelete.splice(index, 1);
                            setData([...dataDelete]);

                            resolve();
                        }, 1000)
                    }),
            }}
        />
                            <br/>
                        </Col>
                    </Row>
                </div>
            </div>
            <br/> <br/> <br/>
        </React.Fragment>
    )
}

Pointmanquant.propTypes =  {

}

const mapStatetoProps = state => {
}
const mapDispatchToProps = (dispatch) => ({

});
export default connect(mapStatetoProps,mapDispatchToProps)(Pointmanquant)

